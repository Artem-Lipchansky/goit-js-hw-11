{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["\n\n\nexport class PixabayApi{\n\tconstructor() {\n\t\tthis.BASE_URL = 'https://pixabay.com/api/';\n\t\tthis.API_KEY='42546986-414d01ac2526fb250e7f0e208'\n\t}\n\n  getImages(userQuery) {\n    const searchParams = new URLSearchParams({\n      key: this.API_KEY,\n      q: userQuery,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: true,\n    });\n    const url = `${this.BASE_URL}?${searchParams}`;\n\n    return fetch(url).then(res => res.json());\n  }\n}\n\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst gallery = document.querySelector('.gallery');\nconst lightbox = new SimpleLightbox('.gallery a', {   captionsData: 'alt', captionDelay: 250 \n});\n\nfunction templateCard({\n  webformatURL,\n  largeImageURL,\n  tags,\n  likes,\n  views,\n  comments,\n  downloads,\n}) {\n  return `      \n      <li class=\"card\">\n        <a href =\"${largeImageURL}\">\n        <img class=\"card-img\" src=\"${webformatURL}\" alt=\"${tags}\" >\n        <ul class=\"card-data\">\n          <li><h3>Likes</h3><p>${likes}</p></li>\n          <li><h3>Views</h3><p>${views}</p></li>\n          <li><h3>Comments</h3><p>${comments}</p></li>\n          <li><h3>Downloads</h3><p>${downloads}</p></li>\n        </ul>\n      </li>`;\n}\n\nfunction templateCards(images) {\n  return images.map(templateCard).join('');\n}\n\nexport function renderCards(images) {\n  gallery.innerHTML = templateCards(images);\n  lightbox.refresh();\n}","import { PixabayApi } from './js/pixabay-api';\nimport { renderCards } from './js/render-functions';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst pixabayApi = new PixabayApi();\nconst form = document.querySelector('.search-form');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nform.addEventListener('submit', onSearchSubmit);\n\nfunction onSearchSubmit(event) {\n  event.preventDefault();\n  gallery.innerHTML = '';\n  toggleLoader();\n\n  const queryValue = event.target.query.value.trim();\n  if (!queryValue) {\n    showError(new Error('Please enter a search query.'));\n    toggleLoader();\n    return;\n  }\n\n  \n\n  pixabayApi\n    .getImages(queryValue)\n    .then(data => {\n      const images = data.hits;\n      if (!images.length) {\n        throw new Error(\n          'Sorry, there are no images matching your search query. Please try again!'\n        );\n      }\n      renderCards(images);\n    })\n    .catch(error => showError(error))\n    .finally(toggleLoader);\n\n  event.target.reset();\n}\n\nfunction showError(error) {\n  iziToast.error({\n    pauseOnHover: false,\n    position: 'topRight',\n    message: error.message,\n  });\n}\n\nfunction toggleLoader() {\n  loader.classList.toggle('hidden');\n}\n"],"names":["PixabayApi","userQuery","searchParams","url","res","gallery","lightbox","SimpleLightbox","templateCard","webformatURL","largeImageURL","tags","likes","views","comments","downloads","templateCards","images","renderCards","pixabayApi","form","loader","onSearchSubmit","event","toggleLoader","queryValue","showError","data","error","iziToast"],"mappings":"6vBAGO,MAAMA,CAAU,CACtB,aAAc,CACb,KAAK,SAAW,2BAChB,KAAK,QAAQ,oCACb,CAEA,UAAUC,EAAW,CACnB,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAK,KAAK,QACV,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAClB,CAAK,EACKE,EAAM,GAAG,KAAK,QAAQ,IAAID,CAAY,GAE5C,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAOA,EAAI,KAAI,CAAE,CACzC,CACH,CClBA,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAW,IAAIC,EAAe,aAAc,CAAI,aAAc,MAAO,aAAc,GACzF,CAAC,EAED,SAASC,EAAa,CACpB,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACF,EAAG,CACD,MAAO;AAAA;AAAA,oBAEWL,CAAa;AAAA,qCACID,CAAY,UAAUE,CAAI;AAAA;AAAA,iCAE9BC,CAAK;AAAA,iCACLC,CAAK;AAAA,oCACFC,CAAQ;AAAA,qCACPC,CAAS;AAAA;AAAA,YAG9C,CAEA,SAASC,EAAcC,EAAQ,CAC7B,OAAOA,EAAO,IAAIT,CAAY,EAAE,KAAK,EAAE,CACzC,CAEO,SAASU,EAAYD,EAAQ,CAClCZ,EAAQ,UAAYW,EAAcC,CAAM,EACxCX,EAAS,QAAO,CAClB,CC/BA,MAAMa,EAAa,IAAInB,EACjBoB,EAAO,SAAS,cAAc,cAAc,EAC5Cf,EAAU,SAAS,cAAc,UAAU,EAC3CgB,EAAS,SAAS,cAAc,SAAS,EAE/CD,EAAK,iBAAiB,SAAUE,CAAc,EAE9C,SAASA,EAAeC,EAAO,CAC7BA,EAAM,eAAc,EACpBlB,EAAQ,UAAY,GACpBmB,IAEA,MAAMC,EAAaF,EAAM,OAAO,MAAM,MAAM,OAC5C,GAAI,CAACE,EAAY,CACfC,EAAU,IAAI,MAAM,8BAA8B,CAAC,EACnDF,IACA,MACD,CAIDL,EACG,UAAUM,CAAU,EACpB,KAAKE,GAAQ,CACZ,MAAMV,EAASU,EAAK,KACpB,GAAI,CAACV,EAAO,OACV,MAAM,IAAI,MACR,0EACV,EAEMC,EAAYD,CAAM,CACxB,CAAK,EACA,MAAMW,GAASF,EAAUE,CAAK,CAAC,EAC/B,QAAQJ,CAAY,EAEvBD,EAAM,OAAO,OACf,CAEA,SAASG,EAAUE,EAAO,CACxBC,EAAS,MAAM,CACb,aAAc,GACd,SAAU,WACV,QAASD,EAAM,OACnB,CAAG,CACH,CAEA,SAASJ,GAAe,CACtBH,EAAO,UAAU,OAAO,QAAQ,CAClC"}