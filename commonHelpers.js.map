{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst galleryContainer = document.querySelector('.gallery');\nconst gallery = new SimpleLightbox('.gallery-item');\n\nexport function renderImages(images) {\n  const fragment = document.createDocumentFragment(); \n\n  images.forEach(image => {\n    const imageCard = document.createElement('div');\n    imageCard.classList.add('image-card');\n\n    const webformatURL = image.webformatURL;\n    const largeImageURL = image.largeImageURL;\n    const likes = image.likes;\n    const views = image.views;\n    const comments = image.comments;\n    const downloads = image.downloads;\n\n    const imageElement = document.createElement('img');\n    imageElement.classList.add('img');\n    imageElement.src = image.webformatURL;\n    imageElement.alt = image.tags;\n    imageElement.style.width = '100%';\n\n    const infoElement = document.createElement('div');\n    infoElement.classList.add('image-info');\n\n    infoElement.innerHTML = `\n      <p class=\"info-item\">Likes:<br>${likes}</p>\n      <p class=\"info-item\">Views:<br>${views}</p>\n      <p class=\"info-item\">Comments:<br>${comments}</p>\n      <p class=\"info-item\">Downloads:<br>${downloads}</p>\n    `;\n\n    const linkElement = document.createElement('a');\n    linkElement.href = largeImageURL;\n    linkElement.classList.add('gallery-item');\n    linkElement.style.textDecoration = 'none';\n\n    linkElement.appendChild(imageElement);\n    linkElement.appendChild(infoElement);\n\n    imageCard.appendChild(linkElement);\n    fragment.appendChild(imageCard); \n  });\n\n  galleryContainer.innerHTML = '';\n  galleryContainer.appendChild(fragment); \n\n  refreshGallery();\n}\n\nfunction refreshGallery() {\n  gallery.refresh();\n}\n\nexport function showError(message) {\n  iziToast.error({\n    title: 'Error!',\n    message: message,\n  });\n}","\n\n\nimport { renderImages, showError } from './render-functions';\n\nexport async function submitSearch() {\n  const searchInput = document.querySelector('.searchInput');\n  const query = searchInput.value.trim();\n  const loader = document.querySelector('.loader');\n  const galleryContainer = document.querySelector('.gallery');\n\n  if (query === '') {\n    showError('Please enter a keyword');\n    return Promise.reject('Empty query');\n  }\n\n  const apiKey = '42546986-414d01ac2526fb250e7f0e208';\n  const apiUrl = `https://pixabay.com/api/?key=${apiKey}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  loader.style.display = 'inline-block';\n\n  galleryContainer.innerHTML = '';\n\n  try {\n    const response = await fetch(apiUrl);\n\n    if (!response.ok) {\n      throw new Error(`HTTP error! Status: ${response.status}`);\n    }\n\n    const data = await response.json();\n\n    if (data.hits.length === 0) {\n      showError('Sorry, there are no images matching your search query. Please try again!');\n    } else {\n      renderImages(data.hits);\n    }\n  } catch (error) {\n    loader.style.display = 'none';\n    showError(`An error occurred while fetching data: ${error.message}. Please try again later.`);\n  }\n}","import { submitSearch } from './js/pixabay-api';\nimport './js/render-functions';\n\nconst searchForm = document.querySelector('.searchForm');\n\nsearchForm.addEventListener('submit', function (event) {\n  event.preventDefault();\n  submitSearch();\n});"],"names":["galleryContainer","gallery","SimpleLightbox","renderImages","images","fragment","image","imageCard","largeImageURL","likes","views","comments","downloads","imageElement","infoElement","linkElement","refreshGallery","showError","message","submitSearch","query","loader","apiUrl","response","data","error","searchForm","event"],"mappings":"svBAGA,MAAMA,EAAmB,SAAS,cAAc,UAAU,EACpDC,EAAU,IAAIC,EAAe,eAAe,EAE3C,SAASC,EAAaC,EAAQ,CACnC,MAAMC,EAAW,SAAS,yBAE1BD,EAAO,QAAQE,GAAS,CACtB,MAAMC,EAAY,SAAS,cAAc,KAAK,EAC9CA,EAAU,UAAU,IAAI,YAAY,EAEfD,EAAM,aAC3B,MAAME,EAAgBF,EAAM,cACtBG,EAAQH,EAAM,MACdI,EAAQJ,EAAM,MACdK,EAAWL,EAAM,SACjBM,EAAYN,EAAM,UAElBO,EAAe,SAAS,cAAc,KAAK,EACjDA,EAAa,UAAU,IAAI,KAAK,EAChCA,EAAa,IAAMP,EAAM,aACzBO,EAAa,IAAMP,EAAM,KACzBO,EAAa,MAAM,MAAQ,OAE3B,MAAMC,EAAc,SAAS,cAAc,KAAK,EAChDA,EAAY,UAAU,IAAI,YAAY,EAEtCA,EAAY,UAAY;AAAA,uCACWL,CAAK;AAAA,uCACLC,CAAK;AAAA,0CACFC,CAAQ;AAAA,2CACPC,CAAS;AAAA,MAGhD,MAAMG,EAAc,SAAS,cAAc,GAAG,EAC9CA,EAAY,KAAOP,EACnBO,EAAY,UAAU,IAAI,cAAc,EACxCA,EAAY,MAAM,eAAiB,OAEnCA,EAAY,YAAYF,CAAY,EACpCE,EAAY,YAAYD,CAAW,EAEnCP,EAAU,YAAYQ,CAAW,EACjCV,EAAS,YAAYE,CAAS,CAClC,CAAG,EAEDP,EAAiB,UAAY,GAC7BA,EAAiB,YAAYK,CAAQ,EAErCW,GACF,CAEA,SAASA,GAAiB,CACxBf,EAAQ,QAAO,CACjB,CAEO,SAASgB,EAAUC,EAAS,CACjC,SAAS,MAAM,CACb,MAAO,SACP,QAASA,CACb,CAAG,CACH,CC1DO,eAAeC,GAAe,CAEnC,MAAMC,EADc,SAAS,cAAc,cAAc,EAC/B,MAAM,KAAI,EAC9BC,EAAS,SAAS,cAAc,SAAS,EACzCrB,EAAmB,SAAS,cAAc,UAAU,EAE1D,GAAIoB,IAAU,GACZ,OAAAH,EAAU,wBAAwB,EAC3B,QAAQ,OAAO,aAAa,EAIrC,MAAMK,EAAS,qEAA4CF,CAAK,2DAEhEC,EAAO,MAAM,QAAU,eAEvBrB,EAAiB,UAAY,GAE7B,GAAI,CACF,MAAMuB,EAAW,MAAM,MAAMD,CAAM,EAEnC,GAAI,CAACC,EAAS,GACZ,MAAM,IAAI,MAAM,uBAAuBA,EAAS,MAAM,EAAE,EAG1D,MAAMC,EAAO,MAAMD,EAAS,OAExBC,EAAK,KAAK,SAAW,EACvBP,EAAU,0EAA0E,EAEpFd,EAAaqB,EAAK,IAAI,CAEzB,OAAQC,EAAO,CACdJ,EAAO,MAAM,QAAU,OACvBJ,EAAU,0CAA0CQ,EAAM,OAAO,2BAA2B,CAC7F,CACH,CCtCA,MAAMC,EAAa,SAAS,cAAc,aAAa,EAEvDA,EAAW,iBAAiB,SAAU,SAAUC,EAAO,CACrDA,EAAM,eAAc,EACpBR,GACF,CAAC"}